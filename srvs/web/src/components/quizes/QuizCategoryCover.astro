---
import { Image } from "astro:assets";

import { QuizesCategoryOptions } from "@quizbee/pb-types";

import beeCover from "@/assets/images/pchel.png";
import ArtsCover from "@/assets/images/Arts.png";
import HistoryCover from "@/assets/images/History.png";
import LawCover from "@/assets/images/Law.png";
import LanguageCover from "@/assets/images/Language.png";
import MathCover from "@/assets/images/Math.png";
import PopCultureCover from "@/assets/images/Popculture.png";
import PsychologyCover from "@/assets/images/Psychology.png";
import STEMCover from "@/assets/images/STEM.png";
import GeneralCover from "@/assets/images/General.png";

type Props = {
  category: string;
  alt?: string;
  class?: string;
  priority?: "high" | "low" | "auto";
};

const { category, alt, class: className, priority = "high" } = Astro.props;

const categoryImages: Record<string, any> = {
  [QuizesCategoryOptions.stem]: STEMCover,
  [QuizesCategoryOptions.general]: GeneralCover,
  [QuizesCategoryOptions.math]: MathCover,
  [QuizesCategoryOptions.history]: HistoryCover,
  [QuizesCategoryOptions.law]: LawCover,
  [QuizesCategoryOptions.language]: LanguageCover,
  [QuizesCategoryOptions.art]: ArtsCover,
  [QuizesCategoryOptions.popCulture]: PopCultureCover,
  [QuizesCategoryOptions.psychology]: PsychologyCover,
};

const coverImage = categoryImages[category] || beeCover;
---

<Image
  src={coverImage}
  alt={alt || category}
  width={1920}
  height={1080}
  widths={[480, 768, 1024, 1280, 1600, 1920]}
  sizes="(min-width: 1024px) 800px, 100vw"
  fit="cover"
  class={className || "h-full w-full object-cover rounded-2xl shadow-sm"}
  fetchpriority={priority}
  loading={priority === "high" ? "eager" : "lazy"}
/>
